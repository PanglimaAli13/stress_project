<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Pengguna</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../dashboard_page/dashboard.css">
    <link rel="stylesheet" href="profile.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo-details">
            <i class='bx bxl-c-plus-plus icon'></i>
            <div class="logo_name">Dashboard</div>
            <i class='bx bx-menu' id="btn-sidebar-toggle"></i>
        </div>
        <ul class="nav-list">
            <li>
                <a href="../dashboard_page/dashboard.html"><i class='bx bx-grid-alt'></i><span class="links_name">Dashboard</span></a>
                <span class="tooltip">Dashboard</span>
            </li>
            <li>
                <a href="profile.html" class="active"><i class='bx bx-user'></i><span class="links_name">Profil</span></a>
                <span class="tooltip">Profil</span>
            </li>
            <li>
                <a href="#"><i class='bx bx-cog'></i><span class="links_name">Pengaturan</span></a>
                <span class="tooltip">Pengaturan</span>
            </li>
            <li class="profile">
                <div class="profile-details">
                    <img id="profileImg" src="https://i.pravatar.cc/150?u=a042581f4e29026704d" alt="profileImg">
                    <div class="name_job">
                        <div id="profileName" class="name">User</div>
                        <div id="profileRole" class="job">Role</div>
                    </div>
                </div>
                <i class='bx bx-log-out' id="logoutBtn" title="Logout"></i>
            </li>
        </ul>
    </div>

    <section class="home-section">
        <div class="profile-container">
            <div class="profile-header-card">
                <div class="profile-avatar-large-wrapper">
                    <div class="profile-avatar-large">
                        <img id="mainProfileImg" src="https://i.pravatar.cc/150?u=a042581f4e29026704d" alt="User Avatar">
                        <div class="edit-avatar-overlay">
                            <i class='bx bxs-camera'></i>
                        </div>
                    </div>
                    <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                </div>
                <div class="profile-header-info">
                    <h1 id="mainProfileName">Manajer Proyek</h1>
                    <p id="mainProfileRole">manager</p>
                </div>
            </div>
            <div class="profile-details-card">
                <h2>Detail Profil</h2>
                <div class="detail-item"><span class="detail-label">Nama Lengkap</span><span id="detailName" class="detail-value">Manajer Proyek</span></div>
                <div class="detail-item"><span class="detail-label">Email</span><span id="detailEmail" class="detail-value">manager.proyek@email.com</span></div>
                <div class="detail-item"><span class="detail-label">Telepon</span><span id="detailTelepon" class="detail-value">+62 812 3456 7890</span></div>
                <div class="detail-item"><span class="detail-label">Alamat</span><span id="detailAlamat" class="detail-value">Jl. Teknologi No. 1, Surabaya</span></div>
                <div class="detail-item">
                    <span class="detail-label">Unit</span>
                    <a href="#" id="unitLink" class="detail-value link">L 9134 CD</a>
                </div>
                <div class="profile-actions">
                    <button id="editProfileShowModalBtn" class="edit-profile-btn">Edit Profil</button>
                </div>
            </div>
        </div>
    </section>

    <div id="logoutModal" class="modal-overlay hidden">
        <div class="modal-content small">
            <h2 class="modal-title">Konfirmasi Logout</h2>
            <p class="modal-message">Apakah Anda yakin ingin keluar?</p>
            <div class="modal-actions">
                <button id="confirmLogoutBtn" class="btn-danger">Logout</button>
                <button id="cancelLogoutBtn" class="btn-secondary">Batal</button>
            </div>
        </div>
    </div>

    <div id="editProfileModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Edit Profil</h2>
            <form id="editProfileForm">
                <div class="form-group"><label for="editNama">Nama Lengkap</label><input type="text" id="editNama" required></div>
                <div class="form-group"><label for="editEmail">Email</label><input type="email" id="editEmail" required></div>
                <div class="form-group"><label for="editTelepon">Telepon</label><input type="tel" id="editTelepon" required></div>
                <div class="form-group"><label for="editAlamat">Alamat</label><textarea id="editAlamat" rows="3" required></textarea></div>
                <div class="form-group"><label for="editUnit">Unit (Nomor Polisi)</label><input type="text" id="editUnit" required></div>
                <div class="modal-actions">
                    <button type="submit" class="btn-save">Simpan Perubahan</button>
                    <button type="button" id="cancelEditBtn" class="btn-close">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <div id="successModal" class="modal-overlay hidden">
        <div class="modal-content small">
            <h2 class="modal-title">Berhasil!</h2>
            <p class="modal-message">Data profil Anda telah berhasil diperbarui.</p>
            <div class="modal-actions">
                <button id="closeSuccessModalBtn" class="btn-save">OK</button>
            </div>
        </div>
    </div>

    <div id="unitDetailsModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Rincian Data Unit</h2>
            <div class="unit-details-content">
                <div class="unit-photo">
                    <img src="https://i.imgur.com/811m2sE.png" alt="Foto Unit">
                </div>
                <div class="unit-info">
                    <div class="detail-item"><span class="detail-label">Nopol Unit</span><span class="detail-value">L 9134 CD</span></div>
                    <div class="detail-item"><span class="detail-label">Jenis Unit</span><span class="detail-value">Toyota Avanza</span></div>
                    <div class="detail-item"><span class="detail-label">Nomor Mesin</span><span class="detail-value">1NRVE123456</span></div>
                    <div class="detail-item"><span class="detail-label">Nomor Rangka</span><span class="detail-value">MHKM1BA3JIK123</span></div>
                </div>
            </div>
            <div class="modal-actions">
                 <button type="button" id="closeUnitModalBtn" class="btn-close">Tutup</button>
            </div>
        </div>
    </div>

    <script src="profile.js"></script>
</body>
</html>